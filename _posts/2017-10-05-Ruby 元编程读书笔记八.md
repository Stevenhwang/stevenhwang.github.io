---
layout: post
title: Ruby 元编程读书笔记八
excerpt: "代码块"
categories: [Ruby 元编程]
tags: Ruby 元编程
comments: true
---

## Scope Gate

&emsp;&emsp;追踪作用域是一项枯燥的任务，所以，我们需要了解 **作用域门**，来更快地找到作用域。

&emsp;&emsp;准确地说，程序会在三个地方关闭前一个作用域，同时打开一个新的作用域：
* 类定义
* 模块定义
* 方法

&emsp;&emsp;只要程序进入类或模块及方法的定义，就会发生作用域切换。这三个边界分别用 class、module、和 def 关键字作为标志，每一个关键字都充当了一个 **作用域门**。

#### 全局变量和顶级实例变量
&emsp;&emsp;全局变量可以在任何作用域中访问：
```ruby
  def a_scope
    $var = "some value"
  end

  def another_scope
    $var
  end

  a_scope
  another_scope  #=> "some value"
```
&emsp;&emsp;全局变量的问题在于系统的任何部分都可以修改它们，因此，你会发现
