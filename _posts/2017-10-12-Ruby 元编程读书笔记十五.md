---
layout: post
title: Ruby 元编程读书笔记十五
excerpt: "类定义"
categories: [Ruby 元编程]
tags: Ruby 元编程
comments: true
---

类方法的定义方式：
第一种
class << HelloWorld
  def hello(name)
    puts "#{name} said hello."
  end
end
第二种
class HelloWorld
  class << self
    def hello(name)
      puts "#{name} said hello."
    end
  end
end
第三种
def HelloWorld.hello(name)
  puts "#{name} said hello."
end
第四种
class HelloWorld
  def self.hello(name)
    puts "#{name} said hello."
  end
end
其中class << 类名 ～ end 这种写法的类定义被称为单例类定义，单例类定义中定义的方法被称为单例方法
通过利用单例类定义，可以给对象添加单例方法，单例类定义也被用于定义对象的专属实例方法：
str1 = "ruby"
str2 = "ruby"
class << str1
  def hello
    "Hello, #{self}!"
  end
end
p str1.hello   #=> "Hello, ruby!"
p str2.hello   #=> NoMethodError

当类包含模块时，它获得的是该模块的实例方法，而不是类方法。
